"use strict";function showProList(t){t||(t=1),$.ajax({type:"get",url:"../../interface/productList.php",data:{c_id:t},beforeSend:function(){$(".second-list").html('<div class="no-data">数据加载中···</div>')},dataType:"json",success:function(t){if(0!==t.length){var e=template("productList",{data:t});$(".second-list").html(e)}else $(".second-list").html('<div class="no-data">该分类下暂无数据</div>')}})}function showList(){$.ajax({type:"get",url:"../../interface/categoryList.php",data:{},beforeSend:function(){NProgress.configure(),NProgress.start()},dataType:"json",success:function(i){var t=template("firstList",{data:i});$("#category-list").html(t),$.ajax({type:"get",url:"../../interface/productList.php",data:{},beforeSend:function(){NProgress.configure(),NProgress.start(),$("#list").html('<div class="no-data">数据加载中···</div>')},dataType:"json",success:function(t){var e=template("productList",{firstRes:i,secondRes:t});$("#list").html(""),$("#list").append(e);var s=template("pro_List",{secondRes:t});$(".sl-right").html(s),setWidth()},complete:function(){NProgress.done()}})}})}function setWidth(){$(".children-list").each(function(){var t=$(this).children().length,e=parseInt(t/7)+1;$(this).css("width",250*e)})}function flashSale(){var t=new Date,e=t.getHours(),s=59-t.getMinutes(),i=59-t.getSeconds();s=s<10?"0"+s:s,i=i<10?"0"+i:i;var a=(e=e<10?"0"+e:e)+":00 场";$(".round").html(a),$(".minutes").html(s),$(".seconds").html(i)}$(function(){new Swiper(".swiper-container",{speed:800,loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});showList(),$("#category-list").on("mouseenter",".firstList",function(){$(this).addClass("now").siblings().removeClass("now"),$("#list").children().eq($(this).index()).addClass("show").siblings().removeClass("show")}),$("#list").on("click",".second-list-item",function(){var t=$(this).attr("data-id");window.open("../pages/details.html?id="+t)}),$(".slist-item").mouseenter(function(){$(this).addClass("active").siblings().removeClass("active"),$(".sl-right").children().eq($(this).index()).addClass("active").siblings().removeClass("active")}),$(".shoplist").mouseleave(function(){$(".sl-right").children().removeClass("active"),$(".slist-item").removeClass("active")}),setInterval(flashSale,1e3)});