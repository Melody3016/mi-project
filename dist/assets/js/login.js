"use strict";function check(e,r){return e?($(".err_tip").css("display","none"),r?($(".err_tip").css("display","none"),!0):($(".err_tip").css("display","block"),$(".error-con").text("请输入密码"),!1)):($(".err_tip").css("display","block"),$(".error-con").text("请输入用户名"),!1)}function login(s){$(".sub").click(function(){var r=$(".username").val(),e=$(".password").val();check(r,e)&&$.ajax({type:"post",url:"../../interface/userLogin.php",data:{username:r,password:e},beforeSend:function(){NProgress.configure(),NProgress.start()},dataType:"json",success:function(e){s&&s(e,r)}})})}$(function(){login(function(e,s){0==e.code?($(".err_tip").css("display","block"),$(".error-con").text(e.msg),NProgress.done()):$.ajax({url:"../../interface/getUserIdByName.php",type:"get",data:{username:s},dataType:"json",success:function(e){var r=e[0].id;document.cookie="userId="+r,document.cookie="username="+s,location.href="../pages/cart.html"},complete:function(){NProgress.done()}})})});